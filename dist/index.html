<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    
    <link rel="icon" href="/assets/favicon.cce78474.svg">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hudson's Playground</title>
    <script type="module" crossorigin src="/assets/index.9c465d5c.js"></script>
    <link rel="modulepreload" href="/assets/vendor.e37d749c.js">
    <link rel="stylesheet" href="/assets/index.0b33ccec.css">
  </head>
  <body>
    <section class="flex flex-col h-screen bg-gray-100" x-data="{activeTab: 'formField'}">

      <!-- tabs -->
      <div class="fixed bottom-0 flex w-full md:w-1/3">
        <a
          href="#"
          @click.prevent="activeTab = 'simpleButton'"
          class="w-full p-4 text-center transition bg-white hover:bg-gray-50"
          x-bind:class="activeTab == 'simpleButton' ? 'border-b-4 border-b-blue-500' : ''"
        >
          Simple Button
        </a>
        <a
          href="#"
          @click.prevent="activeTab = 'formField'"
          class="w-full p-4 text-center transition bg-white hover:bg-gray-50"
          x-bind:class="activeTab == 'formField' ? 'border-b-4 border-b-blue-500' : ''"
        >
          Form Field
        </a>
      </div>

      <!-- tab views -->
      <div class="flex w-3/4 p-8 m-auto overflow-hidden bg-white rounded-3xl h-2/3">

        <!-- simple button -->
        <div
          x-data="{show: false}"
          class="flex flex-col items-center justify-center w-full h-full"
          x-show="activeTab == 'simpleButton'"
          x-transition.in.opacity
          x-transition:enter.duration.500ms
        >
          <div class="flex items-center h-full justify-items-center">
            <p
              class="mt-8 text-center transition scale-50 opacity-0"
              :class="show ? 'opacity-100 scale-100' : 'opacity-0 scale-50'">
              I made a website from scratch!
            </p>
          </div>
          <button
            @click="show = ! show"
            class="w-full p-3 font-bold text-white uppercase transition-all rounded-full shadow-xl bg-gradient-to-tr from-blue-500 to-blue-400 shadow-blue-200/50 hover:shadow-lg hover:shadow-blue-200/50"
          >
            click me!
          </button>
        </div>

        <!-- form field -->
        <div
          class="flex flex-col items-center justify-between w-full h-full"
          x-show="activeTab == 'formField'"
          x-transition.in.opacity
          x-transition:enter.duration.500ms
        >
          <h1 class="flex w-full text-6xl font-black">hello<span class="animate-bounce">.</span><span class="animation-delay-200 animate-bounce">.</span><span class="animation-delay-400 animate-bounce">.</span></h1>
          <form
            action="/"
            method="POST"
            @submit.prevent="submitData"
            x-data="contactForm()"
            class="w-full space-y-8"
          >
            <div class="relative">
              <input type="text" id="name" name="name" placeholder="Name:" autocomplete="name" x-model="formData.name" class="form-field-input peer">
              <label for="name" class="form-field-label">Name:</label>
            </div>

            <div class="relative">
              <input type="email" id="email" name="email" placeholder="Email:" autocomplete="email" x-model="formData.email" class="form-field-input peer">
              <label for="email" class="form-field-label">Email:</label>
            </div>

            <div class="relative">
              <textarea type="text" rows="5" id="message" name="message" placeholder="Write a message..." x-model="formData.message" class="w-full form-field-input peer"></textarea>
              <label for="message" class="form-field-label">Message:</label>
            </div>

            <!-- "catches" the bots -->
            <input type="text" name="_honey" class="hidden">

            <button class="w-full p-3 font-bold text-white uppercase transition-all rounded-full shadow-xl bg-gradient-to-tr from-blue-500 to-blue-400 shadow-blue-200/50 hover:shadow-lg hover:shadow-blue-200/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 focus:ring-offset-2 " x-text="submitLabel"></button>

            <!-- <p class="w-full font-semibold text-center text-blue-800 bg-blue-200 border-2 border-blue-500" x-text="resultMessage"></p> -->

          </form> 
        </div>

      </div>
    </section>
    <div class="w-1/2">

    </div>
  </body>
  <script>
    function contactForm() {
      return {
        formData: {
          name: '',
          email: '',
          message: ''
        },
        submitting: false,
        submitLabel: "Say wassup",
        
        
        submitData() {
          this.submitLabel = "Sending..."
          this.submitting = true,

          fetch('https://formsubmit.co/ajax/f325bb1980fd7f5592805c11eca0aaeb', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json'
            },
            body: JSON.stringify(this.formData)
          })
          .then(res => {
            res.json()
          })
          .then(data => {
            console.log("data: " + data)
            this.submitLabel = 'Got it, thanks!'
          })
          .catch(error => {
            console.log("ERROR; " + error)
            this.submitLabel = 'Ope...try again'
          })
          .finally(() => {
            this.submitting = false
            this.formData.name = ''
            this.formData.email = ''
            this.formData.message = ''
          })
        }        
      }
    }
  </script>
</html>
