<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/style.css" />
    <link rel="icon" href="/favicon.svg">
    <script src="/main.js" type="module"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hudson's Playground</title>
  </head>
  <body>
    <section class="flex flex-col h-screen bg-gray-100 lg:flex-row lg:items-center" x-data="{activeTab: 'simpleButton'}">

      <!-- tabs -->
      <div class="fixed bottom-0 flex w-full font-bold uppercase lg:w-1/3 lg:relative lg:flex-col lg:justify-center lg:mr-8 lg:space-y-4 lg:bg-white lg:h-2/3 lg:rounded-r-3xl lg:p-8">
        <a
          href="#"
          @click.prevent="activeTab = 'simpleButton'"
          class="w-full p-4 text-center transition bg-white lg:rounded-xl"
          x-bind:class="activeTab == 'simpleButton' ? 'border-b-4 border-b-blue-500 lg:bg-blue-100 text-blue-400 lg:border-none' : 'hover:bg-gray-50'"
        >
          Simple Button
        </a>
        <a
          href="#"
          @click.prevent="activeTab = 'formField'"
          class="w-full p-4 text-center transition bg-white lg:rounded-xl"
          x-bind:class="activeTab == 'formField' ? 'border-b-4 border-b-blue-500 lg:bg-blue-100 text-blue-400 lg:border-none' : 'hover:bg-gray-50'"
        >
          Form Field
        </a>
      </div>

      <!-- tab views -->
      <div class="flex justify-center w-3/4 p-8 m-auto overflow-hidden bg-white rounded-3xl h-2/3 lg:w-2/3 lg:rounded-r-none lg:rounded-l-3xl">

        <!-- simple button -->
        <div
          x-data="{show: false}"
          class="flex flex-col items-center justify-center w-full h-full"
          x-show="activeTab == 'simpleButton'"
          x-transition.in.opacity
          x-transition:enter.duration.500ms
        >
          <div class="flex items-center h-full justify-items-center">
            <p
              class="mt-8 text-center transition scale-50 opacity-0"
              :class="show ? 'opacity-100 scale-100' : 'opacity-0 scale-50'">
              I made a website from scratch!
            </p>
          </div>
          <button
            @click="show = ! show"
            class="w-full max-w-xs p-3 font-bold text-white uppercase transition-all rounded-full shadow-xl bg-gradient-to-tr from-blue-500 to-blue-400 shadow-blue-200/50 hover:shadow-lg hover:shadow-blue-200/50"
          >
            click me!
          </button>
        </div>

        <!-- form field -->
        <div
          class="flex flex-col items-center justify-between w-full h-full max-w-sm"
          x-show="activeTab == 'formField'"
          x-transition.in.opacity
          x-transition:enter.duration.500ms
        >
          <h1 class="flex w-full text-6xl font-black">hello<span class="animate-bounce">.</span><span class="animation-delay-200 animate-bounce">.</span><span class="animation-delay-400 animate-bounce">.</span></h1>
          <form
            action="/"
            method="POST"
            @submit.prevent="submitData"
            x-data="contactForm()"
            class="w-full space-y-8"
          >
            <div class="relative">
              <input type="text" id="name" name="name" placeholder="Name:" autocomplete="name" x-model="formData.name" class="form-field-input peer">
              <label for="name" class="form-field-label">Name:</label>
            </div>

            <div class="relative">
              <input type="email" id="email" name="email" placeholder="Email:" autocomplete="email" x-model="formData.email" class="form-field-input peer">
              <label for="email" class="form-field-label">Email:</label>
            </div>

            <div class="relative">
              <textarea type="text" rows="5" id="message" name="message" placeholder="Write a message..." x-model="formData.message" class="w-full form-field-input peer"></textarea>
              <label for="message" class="form-field-label">Message:</label>
            </div>

            <!-- "catches" the bots -->
            <input type="text" name="_honey" class="hidden">

            <button class="w-full p-3 font-bold text-white uppercase transition-all rounded-full shadow-xl bg-gradient-to-tr from-blue-500 to-blue-400 shadow-blue-200/50 hover:shadow-lg hover:shadow-blue-200/50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 focus:ring-offset-2 " x-text="submitLabel"></button>

            <!-- <p class="w-full font-semibold text-center text-blue-800 bg-blue-200 border-2 border-blue-500" x-text="resultMessage"></p> -->

          </form> 
        </div>

      </div>
    </section>
    <b class="fixed flex items-center justify-center w-12 h-12 text-center text-white bg-black rounded-full top-4 right-4">
      <span class="sm:hidden">
        xs
      </span>
      <span class="hidden sm:inline md:hidden">
        sm
      </span>
      <span class="hidden md:inline lg:hidden">
        md
      </span>
      <span class="hidden lg:inline xl:hidden">
        lg
      </span>
      <span class="hidden xl:inline 2xl:hidden">
        xl
      </span>
      <span class="hidden 2xl:inline">
        2xl
      </span>
    </b>
  </body>
  <script>
    function contactForm() {
      return {
        formData: {
          name: '',
          email: '',
          message: ''
        },
        submitting: false,
        submitLabel: "Say wassup",
        
        
        submitData() {
          this.submitLabel = "Sending..."
          this.submitting = true,

          fetch('https://formsubmit.co/ajax/f325bb1980fd7f5592805c11eca0aaeb', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json'
            },
            body: JSON.stringify(this.formData)
          })
          .then(res => {
            res.json()
          })
          .then(data => {
            console.log("data: " + data)
            this.submitLabel = 'Got it, thanks!'
          })
          .catch(error => {
            console.log("ERROR; " + error)
            this.submitLabel = 'Ope...try again'
          })
          .finally(() => {
            this.submitting = false
            this.formData.name = ''
            this.formData.email = ''
            this.formData.message = ''
          })
        }        
      }
    }
  </script>
</html>
